---------------------------------------
Begin Slurm Prolog: Apr-28-2025 16:39:52
Job ID:    2543536
User ID:   kshibata6
Account:   coc
Job name:  cx4803-final-project-preliminary_parallel_perf_check
Partition: coc-cpu
QOS:       coc-ice
---------------------------------------
+ make clean test_solver_color_perf
rm -f *.o solver test_graph test_solver test_solver_color test_graph.dot test_graph.svg
/usr/local/pace-apps/spack/packages/linux-rhel9-x86_64_v3/gcc-11.3.1/gcc-12.3.0-ukkkutsxfl5kpnnaxflpkq2jtliwthfz/bin/gcc -c src/graph.c -g -ggdb -Wall -Wextra -Wpedantic -std=c11 -fopenmp
src/graph.c: In function 'matrix_al_fill_random':
src/graph.c:99:18: warning: implicit declaration of function 'random'; did you mean 'rand_r'? [-Wimplicit-function-declaration]
   99 |     number_t i = random() % m->n_vertices;
      |                  ^~~~~~
      |                  rand_r
src/graph.c: In function 'matrix_create_random':
src/graph.c:161:30: warning: format '%x' expects argument of type 'unsigned int', but argument 2 has type 'long unsigned int' [-Wformat=]
  161 |   printf("allocate matrix - %x bytes\n", (n_vertices * n_vertices) * sizeof(number_t));
      |                             ~^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                              |                                     |
      |                              unsigned int                          long unsigned int
      |                             %lx
/usr/local/pace-apps/spack/packages/linux-rhel9-x86_64_v3/gcc-11.3.1/gcc-12.3.0-ukkkutsxfl5kpnnaxflpkq2jtliwthfz/bin/gcc -c src/solver.c graph.o -g -ggdb -Wall -Wextra -Wpedantic -std=c11 -fopenmp
src/solver.c: In function 'luby_maximal_independent_set':
src/solver.c:104:15: warning: implicit declaration of function 'random'; did you mean 'rand_r'? [-Wimplicit-function-declaration]
  104 |           if (random() % (2 * degree[i]) == 0) {
      |               ^~~~~~
      |               rand_r
gcc: warning: graph.o: linker input file unused because linking not done
/usr/local/pace-apps/spack/packages/linux-rhel9-x86_64_v3/gcc-11.3.1/gcc-12.3.0-ukkkutsxfl5kpnnaxflpkq2jtliwthfz/bin/gcc -c src/util.c -g -ggdb -Wall -Wextra -Wpedantic -std=c11 -fopenmp
/usr/local/pace-apps/spack/packages/linux-rhel9-x86_64_v3/gcc-11.3.1/gcc-12.3.0-ukkkutsxfl5kpnnaxflpkq2jtliwthfz/bin/gcc -o test_solver_color_perf src/test_solver_color.c graph.o solver.o util.o -g -ggdb -Wall -Wextra -Wpedantic -std=c11 -fopenmp
src/test_solver_color.c: In function 'main':
src/test_solver_color.c:80:32: warning: format '%x' expects argument of type 'unsigned int', but argument 2 has type 'long unsigned int' [-Wformat=]
   80 |   printf("allocate coloring - %x bytes\n", sizeof(struct coloring));
      |                               ~^           ~~~~~~~~~~~~~~~~~~~~~~~
      |                                |           |
      |                                |           long unsigned int
      |                                unsigned int
      |                               %lx
src/test_solver_color.c:87:39: warning: format '%x' expects argument of type 'unsigned int', but argument 2 has type 'long unsigned int' [-Wformat=]
   87 |   printf("allocate coloring.colors - %x bytes\n", m->n_vertices * sizeof(number_t));
      |                                      ~^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                       |                         |
      |                                       unsigned int              long unsigned int
      |                                      %lx
src/test_solver_color.c:97:30: warning: format '%x' expects argument of type 'unsigned int', but argument 2 has type 'long unsigned int' [-Wformat=]
   97 |   printf("allocate degree - %x bytes\n", m->n_vertices * sizeof(size_t));
      |                             ~^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                              |                         |
      |                              unsigned int              long unsigned int
      |                             %lx
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 1 threads'
Running with 1 threads
+ export OMP_NUM_THREADS=1
+ OMP_NUM_THREADS=1
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=1
+ OMP_THREAD_LIMIT=1
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=1 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-1.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-1.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.838651 s
matrix_degree:          0.010251 s
color_cliquelike:       0.537425 s
matrix_as_dot_color:    0.012100 s
matrix_verify_coloring: 0.000719 s
=== end timing report ===
number of OMP threads:  1

real	0m7.583s
user	0m7.196s
sys	0m0.180s
+ echo 0
0
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 2 threads'
Running with 2 threads
+ export OMP_NUM_THREADS=2
+ OMP_NUM_THREADS=2
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=2
+ OMP_THREAD_LIMIT=2
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=2 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-2.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-2.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.838737 s
matrix_degree:          0.003915 s
color_cliquelike:       0.318460 s
matrix_as_dot_color:    0.012161 s
matrix_verify_coloring: 0.000716 s
=== end timing report ===
number of OMP threads:  2

real	0m7.189s
user	0m7.285s
sys	0m0.200s
+ echo 0
0
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 4 threads'
Running with 4 threads
+ export OMP_NUM_THREADS=4
+ OMP_NUM_THREADS=4
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=4
+ OMP_THREAD_LIMIT=4
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=4 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-4.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-4.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.825655 s
matrix_degree:          0.001321 s
color_cliquelike:       0.183991 s
matrix_as_dot_color:    0.012093 s
matrix_verify_coloring: 0.000731 s
=== end timing report ===
number of OMP threads:  4

real	0m7.036s
user	0m7.372s
sys	0m0.205s
+ echo 0
0
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 8 threads'
Running with 8 threads
+ export OMP_NUM_THREADS=8
+ OMP_NUM_THREADS=8
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=8
+ OMP_THREAD_LIMIT=8
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=8 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-8.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-8.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.831395 s
matrix_degree:          0.005930 s
color_cliquelike:       0.201795 s
matrix_as_dot_color:    0.012146 s
matrix_verify_coloring: 0.000742 s
=== end timing report ===
number of OMP threads:  8

real	0m7.065s
user	0m7.794s
sys	0m0.628s
+ echo 0
0
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 16 threads'
Running with 16 threads
+ export OMP_NUM_THREADS=16
+ OMP_NUM_THREADS=16
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=16
+ OMP_THREAD_LIMIT=16
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=16 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-16.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-16.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.850845 s
matrix_degree:          0.001196 s
color_cliquelike:       0.188300 s
matrix_as_dot_color:    0.012263 s
matrix_verify_coloring: 0.000730 s
=== end timing report ===
number of OMP threads:  16

real	0m7.065s
user	0m8.628s
sys	0m1.267s
+ echo 0
0
+ for n_threads in 1 2 4 8 16 32
+ echo 'Running with 32 threads'
Running with 32 threads
+ export OMP_NUM_THREADS=32
+ OMP_NUM_THREADS=32
+ export OMP_PROC_BIND=true
+ OMP_PROC_BIND=true
+ export OMP_PLACES=cores
+ OMP_PLACES=cores
+ export OMP_THREAD_LIMIT=32
+ OMP_THREAD_LIMIT=32
+ export OMP_DYNAMIC=false
+ OMP_DYNAMIC=false
+ env OMP_THREAD_LIMIT=32 ./test_solver_color_perf -n 50000 -nnz 50000 -f slurm-graph-2543536-omp-32.dot
matrix_create_random(50000, 50000)
allocate matrix - a817c800 bytes
opening file slurm-graph-2543536-omp-32.dot
allocate coloring - 10 bytes
allocate coloring.colors - 61a80 bytes
allocate degree - 61a80 bytes
max degree: 11
coloring vertex from vertex 0
coloring vertex from vertex 35326
coloring vertex from vertex 45867
coloring vertex from vertex 1084
coloring vertex from vertex 36087
coloring vertex from vertex 42042
coloring vertex from vertex 42319
coloring vertex from vertex 8141
coloring vertex from vertex 16379
coloring vertex from vertex 17354
coloring vertex from vertex 17471
=== timing report ===
matrix_create_random:   6.830017 s
matrix_degree:          0.002230 s
color_cliquelike:       0.182068 s
matrix_as_dot_color:    0.012250 s
matrix_verify_coloring: 0.001007 s
=== end timing report ===
number of OMP threads:  32

real	0m7.040s
user	0m10.303s
sys	0m2.493s
+ echo 0
0
---------------------------------------
Begin Slurm Epilog: Apr-28-2025 16:40:35
Job ID:        2543536
User ID:       kshibata6
Account:       coc
Job name:      cx4803-final-project-preliminary_parallel_perf_check
Resources:     cpu=32,mem=100G,node=1
Rsrc Used:     cput=00:22:56,vmem=0,walltime=00:00:43,mem=451836K,energy_used=0
Partition:     coc-cpu
QOS:           coc-ice
Nodes:         atl1-1-01-005-3-2
---------------------------------------
